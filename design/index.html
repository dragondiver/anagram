<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Design considerations | Anagram Detection</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="List all anagrams of words contained within a file">
    
    <link rel="preload" href="/anagram/assets/css/0.styles.bd1e54df.css" as="style"><link rel="preload" href="/anagram/assets/js/app.68a89e3a.js" as="script"><link rel="preload" href="/anagram/assets/js/2.f6e36892.js" as="script"><link rel="preload" href="/anagram/assets/js/8.21e5ac7f.js" as="script"><link rel="prefetch" href="/anagram/assets/js/10.da3bdffd.js"><link rel="prefetch" href="/anagram/assets/js/11.f6195de4.js"><link rel="prefetch" href="/anagram/assets/js/3.9af3c470.js"><link rel="prefetch" href="/anagram/assets/js/4.bff542e8.js"><link rel="prefetch" href="/anagram/assets/js/5.32dde0b2.js"><link rel="prefetch" href="/anagram/assets/js/6.345e52dd.js"><link rel="prefetch" href="/anagram/assets/js/7.ef283f19.js"><link rel="prefetch" href="/anagram/assets/js/9.412fe3a1.js">
    <link rel="stylesheet" href="/anagram/assets/css/0.styles.bd1e54df.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/anagram/" class="home-link router-link-active"><!----> <span class="site-name">Anagram Detection</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/anagram/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/anagram/design/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Design considerations
</a></div><div class="nav-item"><a href="/anagram/discussions/" class="nav-link">
  Discussion
</a></div><div class="nav-item"><a href="/anagram/usage/" class="nav-link">
  Usage
</a></div><div class="nav-item"><a href="/anagram/exploration/" class="nav-link">
  Explorations
</a></div><div class="nav-item"><a href="https://github.com/dragondiver/anagram" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Code - Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/anagram/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/anagram/design/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Design considerations
</a></div><div class="nav-item"><a href="/anagram/discussions/" class="nav-link">
  Discussion
</a></div><div class="nav-item"><a href="/anagram/usage/" class="nav-link">
  Usage
</a></div><div class="nav-item"><a href="/anagram/exploration/" class="nav-link">
  Explorations
</a></div><div class="nav-item"><a href="https://github.com/dragondiver/anagram" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Code - Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/anagram/" aria-current="page" class="sidebar-link">Home</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/anagram/#table-of-contents" class="sidebar-link">Table of Contents</a></li><li class="sidebar-sub-header"><a href="/anagram/#built-using" class="sidebar-link">Built Using</a></li><li class="sidebar-sub-header"><a href="/anagram/#authors" class="sidebar-link">Authors</a></li></ul></li><li><a href="/anagram/design/" aria-current="page" class="active sidebar-link">Design considerations</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/anagram/design/#first-solution-observers" class="sidebar-link">First solution Observers</a></li><li class="sidebar-sub-header"><a href="/anagram/design/#second-solution-requestresponse" class="sidebar-link">Second solution requestresponse</a></li><li class="sidebar-sub-header"><a href="/anagram/design/#adding-quarkus" class="sidebar-link">Adding Quarkus</a></li></ul></li><li><a href="/anagram/discussions/" class="sidebar-link">Discussions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/anagram/discussions/#maintainability" class="sidebar-link">Maintainability</a></li><li class="sidebar-sub-header"><a href="/anagram/discussions/#scalability" class="sidebar-link">Scalability</a></li><li class="sidebar-sub-header"><a href="/anagram/discussions/#performance" class="sidebar-link">Performance</a></li></ul></li><li><a href="/anagram/usage/" class="sidebar-link">Usage Tipps for the 3 modules</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/anagram/usage/#general" class="sidebar-link">General</a></li><li class="sidebar-sub-header"><a href="/anagram/usage/#observer-solution" class="sidebar-link">Observer solution</a></li><li class="sidebar-sub-header"><a href="/anagram/usage/#request-response-solution" class="sidebar-link">Request-Response solution</a></li><li class="sidebar-sub-header"><a href="/anagram/usage/#quarkus-solution" class="sidebar-link">Quarkus solution</a></li></ul></li><li><a href="/anagram/exploration/" class="sidebar-link">Finding the Best Solution</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/anagram/exploration/#the-problem" class="sidebar-link">The Problem</a></li><li class="sidebar-sub-header"><a href="/anagram/exploration/#main-topics-in-approach" class="sidebar-link">Main Topics in Approach</a></li><li class="sidebar-sub-header"><a href="/anagram/exploration/#testing-the-performane-of-output" class="sidebar-link">Testing the performane of output</a></li><li class="sidebar-sub-header"><a href="/anagram/exploration/#measuring-the-performance-of-the-hashkey-creation" class="sidebar-link">Measuring the performance of the hashKey creation</a></li><li class="sidebar-sub-header"><a href="/anagram/exploration/#testing-the-perfomance-of-the-map" class="sidebar-link">Testing the perfomance of the Map</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="design-considerations"><a href="#design-considerations" class="header-anchor">#</a> Design considerations</h1> <h2 id="first-solution-observers"><a href="#first-solution-observers" class="header-anchor">#</a> First solution <code>Observers</code></h2> <p>For the first solution i was thinking: <code>what kind of application would need this anagram service?</code>
and came up with the idea to have an observer that will wait for an event, sent for example from a FileWatcher,
then at a controller/service which would read in the file word for word, and send the words to a service, which would collect the words into a Map or Database (for very large files).</p> <p>Therefore the words will be stored into a Anagram Containers, each container containing only anagrams of the first word. To identify the correct container, words will provide a key. The easiest method would be to sort the characters of the words. According to my tests (see <a href="/anagram/exploration/">Explorations</a>) the performance is also competitive.</p> <p>Using this key, the container can be stored in a Hashmap, or for larger files, into a database.</p> <p>Once this is finished, the controller/service will fire an event, that the AnagramMap is ready for Output.
The observer will call the AnagramOutputService, which will print the Anagrams to System.out, thereby ommitting all the AnagramContainers, which have only one word, and therefor do not contain Anagrams.</p> <p>I used a CDI Container to be able to have dependency injection. The Implementation is the JBOSS WELD SE. Using Alternatives one could choose different implementations for different strategies, eg. DB Storage, or output into Files etc.</p> <h2 id="second-solution-requestresponse"><a href="#second-solution-requestresponse" class="header-anchor">#</a> Second solution <code>requestresponse</code></h2> <p>While writing the UnitTests i discovered, that the first solution has to much complexity and could be implemented easy as a Request-Response Service. As i already delivered the first solution as pre-final, i decided to reuse the artifacts, that i could and implement the pattern in a new maven module. I do not use the 2 events and the two observers, moved the output into the client (Java Main application), and had to refactor the AnagramService, Interface and Implementation. The service now is returning the anagrams in a java8 stream.</p> <p>All but 2 classes and 1 interface could be reused.</p> <p>The performance is identical, the tests are easier, the usage is more intuitive.</p> <h2 id="adding-quarkus"><a href="#adding-quarkus" class="header-anchor">#</a> Adding <code>Quarkus</code></h2> <p>To proof reusability i added a implementation using Quarkus. Sadly there is not yet a Quarkus release, that supports the new jakarta namespace. Therefore i could not just reuse the code from the requestresponse module, but had to change the imports.
I copied the source form module solution and request response to the quarkus module.</p> <p>The Quarkus module uses resteasy-reactive. The advantage is, that i can return the anagrams, while reading them from the stream.
Thats just for fun 😉, but impressive.
I did not add json to the response processing</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/anagram/" class="prev router-link-active">
        Home
      </a></span> <span class="next"><a href="/anagram/discussions/">
        Discussions
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/anagram/assets/js/app.68a89e3a.js" defer></script><script src="/anagram/assets/js/2.f6e36892.js" defer></script><script src="/anagram/assets/js/8.21e5ac7f.js" defer></script>
  </body>
</html>
